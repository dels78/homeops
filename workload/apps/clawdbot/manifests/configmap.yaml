---
apiVersion: v1
kind: ConfigMap
metadata:
  name: clawdbot-config
  namespace: automation
  labels:
    app.kubernetes.io/name: clawdbot
    app.kubernetes.io/instance: clawdbot
data:
  # ClawdBot bootstrap configuration
  # Minimal config to allow Control UI access
  # Further configuration via UI will be persisted to PVC
  clawdbot.json: |
    {
      "gateway": {
        "mode": "local",
        "port": 18789,
        "bind": "lan",
        "auth": {
          "mode": "token",
          "token": "${CLAWDBOT_GATEWAY_TOKEN}"
        },
        "controlUi": {
          "enabled": true
        }
      },
      "agent": {
        "workspace": "/home/node/clawd"
      }
    }
